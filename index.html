<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todoro App</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Permanent+Marker&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./styles/styles.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QNTXX270BQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-QNTXX270BQ');
    </script>

</head>

<body>
    <main>
        <div class="modal-container hidden" id="modalTutorialContainer">
            <div class="modal" id="modalTutorial">
                <div class="modal-header">
                    <h4>Tutorial</h4>
                    <button class="btn-transparent" onclick="closeModalTutorial()">
                        <img src="./assets/images/close.png" alt="Cerrar modal de tutorial">
                    </button>
                </div>
                <div class="modal-content content-tutorial">
                    <div class="carousel" aria-label="Tutorial cómo usar Todoro app">
                        <div class="carousel-btns-container">
                            <button class="btn-carousel" data-carousel-btn="prev">
                                <img src="./assets/images/prev.png" alt="Paso anterior">
                            </button>
                            <button class="btn-carousel" data-carousel-btn="next">
                                <img src="./assets/images/next.png" alt="Paso siguiente">
                            </button>
                        </div>
                        <ul>
                            <li class="slide step-container" data-active-slide>
                                <h3>Crear una nueva tarea</h3>
                                <img class="gif-tutorial" src="./assets/images/tutorial/1 Create tasks.gif"
                                    alt="Crear una nueva tarea">
                            </li>
                            <li class="slide step-container">
                                <h3>Completar una tarea</h3>
                                <img class="gif-tutorial" src="./assets/images/tutorial/2 Complete tasks.gif"
                                    alt="Completar una tarea">
                            </li>
                            <li class="slide step-container">
                                <h3>Reordenar las tareas</h3>
                                <img class="gif-tutorial" src="./assets/images/tutorial/3 Reorder tasks.gif"
                                    alt="Reordenar las tareas">
                            </li>
                            <li class="slide step-container">
                                <h3>Editar y eliminar tareas</h3>
                                <img class="gif-tutorial" src="./assets/images/tutorial/4 Edit and delete.gif"
                                    alt="Editar y eliminar tareas">
                            </li>
                            <li class="slide step-container">
                                <h3>Configurar el Pomodoro</h3>
                                <img class="gif-tutorial" src="./assets/images/tutorial/5 Set Pomodoro.gif"
                                    alt="Configurar el Pomodoro">
                            </li>
                            <li class="slide step-container">
                                <h3>Controlar el Pomodoro</h3>
                                <img class="gif-tutorial" src="./assets/images/tutorial/6 Control Pomodoro.gif"
                                    alt="Controlar el Pomodoro">
                            </li>
                        </ul>
                        <div class="positions-container">
                            <button class="btn-position" data-active-position></button>
                            <button class="btn-position"></button>
                            <button class="btn-position"></button>
                            <button class="btn-position"></button>
                            <button class="btn-position"></button>
                            <button class="btn-position"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="header" aria-label="Encabezado de tareas por hacer">
                <h1>Por hacer</h1>
            </div>
            <div class="new-task" aria-label="Formulario de nueva tarea">
                <form id="frmNewTask" autocomplete="off">
                    <input type="text" placeholder="Nueva tarea" id="txtNewTask" required="true" />
                    <button class="btn-transparent" id="btnNewTask">
                        <img src="./assets/images/add.png" alt="Agregar tarea">
                    </button>
                </form>
            </div>
            <div class="list" aria-label="Lista de tareas pendientes">
                <ul id="ulOpenTasks">
                </ul>
            </div>
            <div class="list" aria-label="Lista de tareas cerradas">
                <ul id="ulClosedTasks">
                </ul>
            </div>
            <div class="pomodoro-container" aria-label="Botones de control para Pomodoro">
                <button class="btn-transparent" id="btnPomodoro" onclick="openModalParams()">
                    <img src="./assets/images/pomodoro.png" alt="Abrir modal de parámetros">
                </button>
                <div class="timer-container hidden" id="timerBar">
                    <div class="cycle-container">
                        <span id="cycleDescrip"></span>
                        <span id="cycleCounter"></span>
                    </div>
                    <span id="timer"></span>
                    <div class="control-container">
                        <button class="btn-control" id="btnPause" onclick="pausePomodoro()">
                            <img src="./assets/images/pause.png" alt="Pausar Pomodoro">
                        </button>
                        <button class="btn-control hidden" id="btnContinue" onclick="continuePomodoro()">
                            <img src="./assets/images/continue.png" alt="Continuar Pomodoro">
                        </button>
                        <button class="btn-control" id="btnStop" onclick="stopPomodoro()">
                            <img src="./assets/images/stop.png" alt="Detener Pomodoro">
                        </button>
                    </div>
                </div>
            </div>
            <div class="help-container">
                <button class="btn-transparent btn-help">
                    <img src="./assets/images/help.png" alt="Ayuda" onclick="openModalTutorial()">
                </button>
            </div>
        </div>

        <div class="modal-container hidden" id="modalParamsContainer"
            aria-label="Configuración de Tiempos para Pomodoro">
            <div class="modal" id="modalParams">
                <div class="modal-header">
                    <h4>Tiempos Pomodoro</h4>
                    <button class="btn-transparent" onclick="closeModalParams()">
                        <img src="./assets/images/close.png" alt="Cerrar modal">
                    </button>
                </div>
                <div class="modal-content params-container">
                    <div class="param">
                        <span id="spanWork">25</span>
                        <input type="range" id="rngWork" min="5" max="45" step="5" value="25">
                        <label for="rngWork">Trabajo (min)</label>
                    </div>
                    <div class="param">
                        <span id="spanRest">5</span>
                        <input type="range" id="rngRest" min="0" max="10" step="1" value="5">
                        <label for="rngRest">Descanso (min)</label>
                    </div>
                    <div class="param">
                        <span id="spanReps">5</span>
                        <input type="range" id="rngReps" min="1" max="9" step="1" value="5">
                        <label for="rngReps">Repeticiones</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" onclick="closeModalParams()">Cancelar</button>
                    <button class="btn-primary" onclick="startPomodoro()">Iniciar</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>Desarrollado por <a href="https://github.com/naufragotech" target="_blank">Naufrago Tech</a></p>
    </footer>

    <script src="./scripts/tutorial.js"></script>
    <script src="./scripts/to-do.js"></script>
    <script src="./scripts/pomodoro.js"></script>
    <script src="./scripts/index.js"></script>
</body>

</html>